# 更新日志

### 2.0.7

- 修复在装有某些模组的情况下因物品栏而导致崩溃的问题。

### 2.0.5

- 修复了与 Blockus 模组不兼容的问题。

### 2.0.4

- 修改了方块的活塞行为以符合基础方块。其中，不能被推动的方块，其压力板和按钮也不能被活塞推动，其他方块的压力板和按钮会被活塞直接破坏。
- 修改了方块的音符盒乐器以符合原版。各方块（除按钮外）的音符盒乐器与其基础方块相同，但按钮的音符盒乐器一律为竖琴（即默认乐器）。
- 为匹配原版行为，现在按钮在地图上不会显示出颜色。
- 仅限 Blockus 模组：修复了混凝土砖方块的楼梯、台阶和墙缺失的问题。

### 2.0.3

- 修复了一些方块缺失 `minecraft:mineable/pickaxe` 等标签的问题。
- 修复了一些非 `mineable/pickaxe` 的方块的墙可以被镐破坏的问题。
- 修复了 Blockus 模组中的花纹羊毛的台阶和楼梯的相关配方错误的问题。
- 修复了 Blockus 模组中的花纹羊毛的方块不能被剪刀破坏的问题。
- 修复了 Blockus 模组中曲折纹樱花木板方块不能被烧炼成相应的烧焦木板方块的问题。
- 优化了数据生成时，一些方块对破坏工具的识别方式。
- 对于 1.20 以上版本，现在矿石方块可以合成对应的 Blockus 矿石砖方块了。

### 2.0.2

- 适应新版本的 Blockus 模组。
- 修复竖直楼梯错误地拥有 `extshape:vertical_slabs` 而非 `extshape:vertical_stairs` 标签的问题。
- 调整了物品组修改的方式。
- 修改了 Blockus 模组中的繁星块和下界之星块的不同形状方块的战利品表。

### 2.0.0
- 适应新的 Better Runtime Resource Packs
- 修复了一些基岩物品占用空白战利品表的问题。
- 调整了 `/extshape:check-conflict` 命令的权限等级为 4。
- 修复 Blockus 的白色橡木不能用斧去皮的问题。

### 1.9.0

- 加入了由拉取请求 #25 贡献的韩语翻译。
- 适应 Blockus 模组。
- 修复了紫水晶方块在被弹射时没有声音效果的问题。
- 在 Mod Menu 中加入了本地化的模组名称。
- 调整了与压力板和按钮有关的标签。
- 修复了煤炭块的方块不能在熔炉中燃烧的问题。
- 现在，栅栏、栅栏门、按钮和压力板也可以拥有特殊功能了，如被投射物击中时的反应。
- 添加了幽匿块的所有形状。
- 修改了紫水晶栅栏门的形状门的声音，与破坏声音相同。
- 优化了 RecipeGroup 相关的内容，使之更具扩展性。
- 修复竖直台阶合成纵条数量的错误。
- 修复了方块旋转的配方的内容与名称不对应的问题。
- 修复了资源包中存在重复写入的问题。

### 1.8.1

- 为竹块、樱花木等具有 uvLock 的柱状方块添加了带有方向的台阶。
- 修复了以“木材”结尾的方块名称的转换问题，例如“豎直橡木半磚”误转换为“豎直橡半磚”。

### 1.7.3

- 大幅度调整代码结构，提高可扩展性。
    - 添加了 `BlocksBuilderFactory` 类，以允许不同模组添加自己的方块。同时，确保 `ExtShapeBlocks.BLOCKS` 和 `ExtShapeBlocks.BASE_BLOCKS` 只包含此模组的方块。
    - 添加了 `TagPreparationFactory` 类，以允许不同模组使用本模组的类来添加标签，并减少与已有内容的冲突。
    - 将关于不同方块形状之间的数据生成的代码单独放到 `CrossShapeDataGeneration` 中，并提高代码可读性。
- 修复带釉陶瓦台阶的默认方块状态的方向未被成功设置的问题。
- 现在 `#extshape:log_blocks` 也属于方块标签 `#extshape:wooden_blocks` 中了。
- 优化了在 1.19.3 中添加物品的逻辑，使之更加高效。
- 修复 `/extshape:config` 不生效的问题。

### 1.7.2

- 调整了一些语言的译名显示。
- 对于 1.19.3，为竹块、去皮竹块、竹板、竹马赛克加入了扩展方块形状，需启用 Update 1.20 数据包。
    - 这些方块都可燃，且可用作燃料。
    - 为避免合成表冲突，竹块、去皮竹块不能合成按钮。
- 现在在方块标签中，各形状的原木和木头方块也属于木制方块了。木头制成的栅栏、竹栅栏均视为木制栅栏，可以和原版的木板栅栏连接。
- 对于 1.19.3，不再实现与合理排序模组的联动。
- 对于 1.19.3，由于暂未受支持，禁用了“显示专门物品组”按钮。

### 1.7.1

- 适应新版本的合理排序（Reasonable Sorting）模组。
- 修复方块和物品没有按照其形状的顺序注册的问题。
- 修正了部分译名。

### 1.7.0

- 将“XXX纵楼梯”“XXX纵台阶”更名为“竖直XXX楼梯”“竖直XXX台阶”，文言文名称以及纵条的中文名称保持不变。
- 添加了原木、木头（六面均为树皮的方块）以及菌柄、菌核的各种形状，包括其去皮变种。
- 添加了泥土、砂土、煤炭块、蛙明灯、深板岩、玄武岩、磨制玄武岩和幽匿块的各种形状。
- 修复了横条纹理错误。
- `extshape:check-conflict` 命令现在仅允许玩家执行。
- 进一步优化代码。

### 1.6.0

- 调整了纵楼梯、纵台阶、横条、纵条方块放置时的方向，现在取决于准星对准的位置而非玩家朝向。
- （仅限 Fabric）修复了模组描述中的语法错误以及链接错误。
- （仅限 Fabric）修复了带釉陶瓦台阶的纹理方向问题。
- （仅限 Fabric）将木墙作为燃料时的供燃时间调整为与木板一致。
- 调整了部分语言文件。
- 现在可以配置允许哪些撞车的配方。
- （仅限 Forge）修复了不能用剪刀剪羊毛制品的问题。

### 1.5.2

- 优化了模组配置界面。
- 錾制砂岩、錾制红砂岩、錾制石英、切制砂岩、切制红砂岩不再能够合成楼梯、台阶，以免与原版合成表冲突。
- 不再允许合成木墙，以免与原版合成表冲突。
- 修复雪块、黏土块的栅栏和栅栏门的配方与墙的配方冲突。
- 加入了 `/extshape:check-conflict` 命令，用来检查配方是否存在冲突。
- （仅限 1.19）加入了 `dampens_vibrations` 标签，其内容与 `occludes_vibration_signals` 相同。
- （仅限 Forge）修复了模组描述中的语法错误以及链接错误。
- （仅限 Forge）修复了带釉陶瓦台阶的纹理方向问题。
- （仅限 Forge）将木墙作为燃料时的供燃时间调整为与木板一致。

### 1.5.1

- （对于 Minecraft 1.19）加入了红树木板、泥坯、泥砖的各个形状。
- （对于 Minecraft 1.19）参照原版 Minecraft 译名，将“砖”的简体中文译名更改为“红砖”。
- 修复 `HorizontalCornerDirection.random` 方法的错误。
- 现在允许方块递归切石了。例如，石头可以直接切石成錾制石砖的多个形状。
- 调整了雪台阶的配方，以避免与雪配方冲突。

### 1.5.0

这次更新表面上看上去不是很明显，但实际上代码几乎从头到尾都被改了。模组进行过多轮的测试，以确保能够稳定运行，经过反复调试与修改才发布。该版本是与 BRRP 同时开发的，开发过程中也可以一并排查 BRRP 模组中的问题。

- 自从该版本，模组将依赖 BRRP（更好的运行时资源包）才能运行。由于 BRRP 内嵌了 ARRP 功能，因此您可以不再安装 ARRP 模组。
- 大幅度优化代码，删除了不必要的代码内容。
- 南瓜、西瓜、苔藓、菌光体、下界疣块、诡异疣块制成的方块可以在堆肥桶中堆肥。
- 重新加入了下界疣墙和诡异疣墙，并加入了羊毛、苔藓块等制成的墙。
- 加入了更多标签：
    - 现在，所有基于金块和粗金块的方块都会被猪灵喜欢（物品标签 `#piglin_loved`）。
    - 雪楼梯、雪台阶放置在草方块时，如果把整个草方块覆盖住，草方块会显示为覆雪的格式（方块标签 `#extshape:snow`）。
    - 破坏由金块、粗金块或镶金黑石制成的方块时，猪灵会被激怒（方块标签 `#piglin_guarded`）。
    - 垂滴叶可以放置在苔藓和黏土制成的方块上（方块标签 `#small_dripleaf_placeable_on`）。
    - 羊毛制品现在可以像羊毛一样用剪刀更快破坏了（方块标签 `#fabric:mineable/shears`）。
    - 重新加入了非石质方块的墙，且不能由石镐更快地破坏。尽管 `#minecraft:mineable/pickaxes` 直接包含了 `#minecraft:walls`，但是本模组让 `#extshape:pickaxe_unmineable` 的方块不再能被镐更快破坏。
- 为配方加入了对应的解锁进度，当获得配方原料时，进度会被触发，从而解锁该配方。
- 加入了配置界面。可以配置是否将物品加入原版物品组，以及是否加入本模组专用的物品组。此外，还加入了手动重新生成和导出运行时资源包内容的功能。
- 修正语言文件中的一些错误，优化了语言文件中的一些表述。
- 为各类锈蚀程度的涂蜡铜块、黏土块和粗矿石方块添加其他所有形状的方块。
- 修复苔藓压力板与苔藓地毯配方冲突的问题，参照羊毛的做法，改为配方与压力板相互合成。
- 为解决与 Minecraft 版权协议不兼容的问题，版权协议调整为 LGPL 3.0。
- 由于合成表并无冲突，西瓜按钮现在可以使用一个西瓜方块合成了。
- 现在，金属制的方块（如下界合金块、远古残骸）也可以被切石了。
- 调整了创造模式物品组中的物品排列。

### 1.4.0

- 使用 ARRP（高级运行时资源包）取代了传统的资源包和数据包文件。模组文件可以大幅度减小，但是自从该版本，模组将依赖 ARRP 才能运行。请确保同时安装了 ARRP 模组。
- 修复西瓜按钮和南瓜按钮合成配方冲突的问题，因此移除了这两个方块的合成表。
- 修复压力板在按压与未按压时使用相同模型的问题。
- 修复含水方块在附近有方块更新时水不流动的问题。

### 1.3.1

- <span style="color:red">删除了下界疣墙、诡异疣墙。</span>
- 添加了更多方块，主要是按钮。
- 修复了 BlocksBuilder 的构造函数中，参数若为 <code>null</code>仍会创建对应对象的问题（可能导致部分压力板或按钮有崩溃风险）的问题。
- 修复了铁、金、钻石、绿宝石、青金石块可能存在的与合成表冲突的问题。<b>这些方块仍然存在，但是不再能够合成。</b>
- 稍微调整了物品分组。
- 修复了部分石质方块无法用切石机切石的问题。

### 1.3.0

本次更新仅限 Minecraft 1.17 以上版本。用于旧版本的模组更新将会稍后发布。

- 加入了与合理排序（Reasonable Sorting）模组（仅限1.3以上）的联动。
- 修复了羊毛压力板与地毯合成表冲突的问题。羊毛压力板的合成方式改为由对应的地毯合成。
- 调整了一些代码。
- 修改了一些方块名称，例如“平滑石英块纵台阶”改为“平滑石英纵台阶”。
- 增加了滴水石、蜜脾块、苔藓块等方块的不同形状。

### 1.2.6

此更新仅限 1.17 以上版本。

- 添加了平滑玄武岩的多种形状。
- 开始支持 1.18 的快照版本。
- 调整了模组介绍。

### 1.2.5

- 修复了垂直台阶底部部分材质不渲染的问题。
- 对于 1.16 版本：移除不必要的标签，并修复挖掘等级问题。
    - 请注意：1.16 版本的语言文件仍会存有未来版本的语言文件。

### 1.2.4

- 移除了木板墙和粘土墙。

### 1.2.3

- 开始向旧版本兼容（稍后发布）。
- 修复无法用模组的双层平滑石台阶方块合成平滑石台阶的问题。
- 修复部分方块没有垂直台阶，并导致加载数据包时报错的问题的问题。
- 修复 Mineable 类中的代码会被执行的问题。其他部分方块标签生成的代码也只会在数据生成过程中执行，不再在一般的游戏环境中执行。
- 参照原版 Minecraft，添加了方块标签，同时还添加了物品标签。

### 1.2.2

- 改善了日志系统。
- 修复了与 OptiFine 不兼容的问题。
    - 问题详情：在启用了 OptiFine 的情况下，类似于 `new Identifier("#minecraft:banners")` 这样的操作不会抛出
      `InvalidIdentifierException`，导致代码无法正确运行。

### 1.2.1

- 修复了 ButtonMixin 仅在客户端执行的问题。
- 现在 ExtShapeTag 类继承了 AbstractCollection，而不再是仅仅实现 Iterable 接口。
- 移除了部分不再使用的代码。
- 修复了纵条和纵楼梯在水中放置时默认不含水的问题。（注：栅栏门、按钮和压力板不能含水这是由 Minecraft 原版决定的，模组暂时无法修改。）
- 修复“其他”物品组以海晶石作为图标但海晶石不在该物品组的问题。

### 1.2.0

- 删除了额外的物品组，将物品添加到原版物品组中。另外仍有4个用于分类存放方块及其变种的额外物品组仍保留。
    - 因为物品添加到了原版物品组中，所以同时修复了在配方书中归类错误的问题。
- 方块映射由普通的 Map 改为更加高效的 BiMap（双向映射）。BiMap 的值也是不能重复的，从而更高效地得到反向映射。
- 添加了 JavaDoc。
- 参照原版习惯，本模组中的方块的英文名改为每个单词首字母大写形式。
- 修复了横条、纵条、纵楼梯方块在英文模式下的命名错误。
- 修改了纵台阶、纵条、纵楼梯的配方。这些方块可以直接由1个对应的台阶、横条、楼梯合成而成（相当于进行旋转），不再需要由3个合成；同时也可以转回去。

### 1.1.1

- 添加了纵楼梯、横条、纵条。其中横条、纵条占用1/4方块位置，可使用3个台阶/垂直台阶1:2合成，部分方块可在切石机内用1个完整方块1:4合成或用台阶/垂直台阶1:2合成。
- 移除了部分方块。
- 加入了黏土块、末地石等方块的衍生方块。
- 移除了部分方块的压力板、按钮，因而同时修复了部分合成表的冲突问题。
- 调整了纵台阶在物品栏中的显示形式。
- 添加了台湾繁体中文（zh_tw）、香港繁体中文（zh_hk）和文言文（lzh）语言支持。
- 当前版本仍然存在的问题：
    - 在原版中，部分方块，如浮冰、荧石、雪块，其生存模式下若无精准采集，破坏后无法获得原方块，但其衍生的所有方块均未受影响。
    - 浮冰台阶下半台阶、横条和正立的浮冰楼梯第一阶顶部表面不滑。
    - 配方书中，本模组添加的配方归类不正确。

### 1.1.0-snapshot [快照版 Snapshot version]

- 添加了纵向台阶。
- 为浮冰添加了楼梯、台阶、栅栏、栅栏门。
- 现在带釉陶瓦台阶可以旋转了。
- 移除了弃用的代码。
- 不再在各对象内存储其 id、基础方块等信息，而是使用 Minecraft 原版注册表储存并调取 id，并使用映射储存方块与其基础方块的对应关系。
- 会从原版的BlockFamilies中导入数据至本模组的BlockMappings。未来或许会直接将BlockMappings合并至BlockFamilies。
- 当前版本仍存在的问题：浮冰台阶下半台阶和正立的浮冰楼梯第一阶顶部表面不滑。
- 添加了按基础方块排序的物品组。
- 未完成。

### 1.0.0

更新于2021年8月5日 Updated on Apr. 5th 2021

- 为多种方块添加了楼梯、台阶、栅栏、栅栏门、按钮、压力板。
- 该版本目前支持简体中文（zh_cn）和英语（en）。
- 此前曾参照 Minecraft 原版的数据生成系统生成数据，现已弃用，改为自制的数据生成系统。但弃用的数据生成系统仍保留在代码中。
- 此版本仍存在此问题：配方书中，本模组添加的配方归类不正确。
